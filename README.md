## User Guide
- DS-GA-1004  Project: NYC Crime Exploring
- Team Member:
  - Yuwei Tu (yt1209)
  - Lingshan Gao (lg2755)
  - Zizhuo Ren (zr463)


### Project Content
This report will provide an analysis on the NYC crime incidents that are reported during the period of 2006 to 2015 based on the dataset that is downloaded from NYC Open Data


### Part 1: Crime Data Quality Report
1. run the following commands to download our projects
``` sh
$ git clone https://github.com/gaolingshan/BigDataProject
$ cd BigDataProject
```

2. You can directly download our data from the website, please download data from [here](https://data.cityofnewyork.us/Public-Safety/NYPD-Complaint-Data-Historic/qgea-i56i). Please copy this data file to your HDFS server and your local directory.

3. Copy the **PartOne_AllColumnsType.py** file to your HDFS server, and run this code to create 24 files which contains related information {Data, BaseType, Semantic Type, Validity} for 24 columns. Please save these summary files to a directory called "result" in your working directory.
``` sh
$ spark-submit PartOne_AllColumnsType.py
$ hfs -get column0_summary.csv
$ hfs -get column1_summary.csv
.
.
.
$ hfs -get column23_summary.csv
```

4. Run **PartOne_ResultSummary.py** to generate the summary based off the output generated by the **PartOne_AllColumnsType.py** program.To run this program bug-free, please run the pyspark program first. When the output files are ready, please change the variable "filename" according to the directory where the file is saved.


5. Findings

##### Crime Distribution by Borough

- run **PartOne_NYCPlotting.py**
- This program wil open a file.html in your brower, please export to plot.ly and explore the distribution with plot.ly functions

###### Crime Distribution across Time/Crime Types
- run **PartOne_TimePlotting.py**
- This program will automatically produce two graphs called 'Crimes happend in the last ten years.png' and 'Crime Count by Hour.png'

##### Crime Distribution by Types
- run **PartOne_TypePlotting.py**
- This program willautomatically produce two graphs called 'Top 10 Offense types.png' and 'Percentage of Completed/Attempted.png'
- This program will also create a database and other graphs for further analysis

6. Other Quality Issues
In the original dataset, there are a few columns that have "key code" as input, and are followed by columns that have descriptions for the "key code".
Please run **PartOne_ConsistencyCheck.py** to examine if these codes are uniquely correspond to the descriptions in the following column. To reproduce the result, please keep this file in the dictory where the data file is saved.
'''